{{!-- =============Link to stylesheet/js file============ --}}

<link rel="stylesheet" href="/assets/css/landlord.css">
<link rel="stylesheet" href="/assets/css/animate.css">
<script src="/assets/js/landlord.js"></script>

{{!-- ================Begin HTML================= --}}

<div class="container">
    <div class="row">
        <br />
        <br />
        <div class="col-md-12">
            
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3><span class="glyphicon glyphicon-dashboard"></span> Dashboard Home</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12" id="management-dashboard-side-panel">
                           <p id="dash-home">Dashboard Home</p>
                           <p id="manage-props">Manage Properties</p>
                           {{!-- <p id="manage-apps">Manage Applications</p> --}}
                        </div>
                    </div>
                   <div class="row">
                       <div class="col-md-12" id="dash-body">
                           <div class="dash-body-div" id="home-div">
                               <h2 class="text-center">Welcome to your dashboard, {{name}}!</h2>
                               <hr />
                               <br />
                               <h4><b>What's New for Landlords:</b></h4>
                               <p>Landlords are now able to easily add and manage their own properties. Your properties can be displayed to potential buyers via our search page where you can show off your pad.</p>
                               <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                                   Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                                   Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                                   Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                   <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                                   Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                                   Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                                   Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                                   Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                                   Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                                   Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                   <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                                   Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                                   Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                                   Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                           </div>
                           <div class="dash-body-div" id="manage-props-div">
                               {{#if isProperties}}
                                        <br />
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Property</th>
                                                        <th>Address</th>
                                                        <th>State</th>
                                                        <th>City</th>
                                                        <th>Applications</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#each properties}}
                                                    <tr class="property-row" data-id="{{id}}" data-name="{{name}}" data-description="{{description}}" data-price="{{price}}" data-capacity="{{capacity}}" data-address="{{Address.addressLine1}}" data-city="{{Address.city}}" data-state="{{Address.state}}" data-zip="{{Address.zip}}">
                                                        <td data-toggle="modal" href='#modal-prop-details'>{{name}}</td>
                                                        <td data-toggle="modal" href='#modal-prop-details'>{{Address.addressLine1}}</td>
                                                        <td data-toggle="modal" href='#modal-prop-details'>{{Address.state}}</td>
                                                        <td data-toggle="modal" href='#modal-prop-details'>{{Address.city}}</td>
                                                        {{#if Applications}}
                                                        <td><span id="app-span" data-toggle="modal" href='#modal-app-details' data-prop-id="{{id}}" data-index="{{@index}}" style="color:green" title="{{Applications.length}} Application(s) Available" class="glyphicon glyphicon-inbox text-center"></span></td>
                                                        {{else}}
                                                        <td><span style="color:slategray" title="No Applications Available" class="glyphicon glyphicon-minus-sign"></span></td>
                                                        {{/if}}
                                                    </tr>
                                                    {{/each}}
                                                </tbody>
                                            </table>
                                        </div>
                                        
                                {{else}}
                                <div class="alert alert-info animated fadeInDown" role="alert">
                                    <p><span class="glyphicon glyphicon-exclamation-sign"></span> It looks like you don't have any properties to manage. Click the green button below to add your first property.</p>
                                </div>
                               {{/if}}
                               <button id="add-prop-button" type="button" class="btn btn-success" data-toggle="modal" href='#add-property-modal'><span class="glyphicon glyphicon-plus"></span> Add Property</button>
                               
                           </div>
                           {{!-- <div class="dash-body-div" id="manage-apps-div">
                               
                               
                               
                           </div> --}}
                       </div>

                   </div>
                </div>
            </div>
            
        </div>
    </div>

    
    <div class="modal fade" id="add-property-modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Add Property</h4>
                </div>
                <div class="modal-body" id="add-prop-modal-body">
                    
                    <form action="" method="POST" role="form">
                    
                        <div class="form-group">
                            <label for="">Property Name*</label>
                            <input type="text" class="form-control" id="prop-name">

                            <label for="">Address Line 1*</label>
                            <input type="text" class="form-control" id="prop-address1">

                            <label for="">Address Line 2</label>
                            <input type="text" class="form-control" id="prop-address2">

                            <label for="">City*</label>
                            <input type="text" class="form-control" id="prop-city">

                            <label for="">State*</label>
                            <select id="prop-state" class="form-control">
                                <option value="AL">Alabama</option>
                                <option value="AK">Alaska</option>
                                <option value="AZ">Arizona</option>
                                <option value="AR">Arkansas</option>
                                <option value="CA">California</option>
                                <option value="CO">Colorado</option>
                                <option value="CT">Connecticut</option>
                                <option value="DE">Delaware</option>    
                                <option value="DC">District Of Columbia</option>
                                <option value="FL">Florida</option>
                                <option value="GA">Georgia</option>
                                <option value="HI">Hawaii</option>
                                <option value="ID">Idaho</option>
                                <option value="IL">Illinois</option>
                                <option value="IN">Indiana</option>
                                <option value="IA">Iowa</option>
                                <option value="KS">Kansas</option>
                                <option value="KY">Kentucky</option>
                                <option value="LA">Louisiana</option>
                                <option value="ME">Maine</option>
                                <option value="MD">Maryland</option>
                                <option value="MA">Massachusetts</option>
                                <option value="MI">Michigan</option>
                                <option value="MN">Minnesota</option>
                                <option value="MS">Mississippi</option>
                                <option value="MO">Missouri</option>
                                <option value="MT">Montana</option>
                                <option value="NE">Nebraska</option>
                                <option value="NV">Nevada</option>
                                <option value="NH">New Hampshire</option>
                                <option value="NJ">New Jersey</option>
                                <option value="NM">New Mexico</option>
                                <option value="NY">New York</option>
                                <option value="NC">North Carolina</option>
                                <option value="ND">North Dakota</option>
                                <option value="OH">Ohio</option>
                                <option value="OK">Oklahoma</option>
                                <option value="OR">Oregon</option>
                                <option value="PA">Pennsylvania</option>
                                <option value="RI">Rhode Island</option>
                                <option value="SC">South Carolina</option>
                                <option value="SD">South Dakota</option>
                                <option value="TN">Tennessee</option>
                                <option value="TX">Texas</option>
                                <option value="UT">Utah</option>
                                <option value="VT">Vermont</option>
                                <option value="VA">Virginia</option>
                                <option value="WA">Washington</option>
                                <option value="WV">West Virginia</option>
                                <option value="WI">Wisconsin</option>
                                <option value="WY">Wyoming</option>
                            </select>

                            <label for="">Zip*</label>
                            <input type="text" class="form-control" id="prop-zip">

                            <label for="">Price*</label>
                            <input type="text" class="form-control" id="prop-price">

                            <label for="">Capacity*</label>
                            <input type="text" class="form-control" id="prop-capacity">

                            <label for="">Description (1000 char)</label>
                            <br />
                            <textarea class="form-control" style="height:100px" maxlength="1000" id="prop-description"></textarea>
                        </div>
                    
                    </form>
                    
                </div>
                <div class="modal-footer" id="add-prop-modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="submit-prop-button">Submit</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="modal fade" id="modal-prop-details">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="prop-detail-title"></h4>
                </div>
                <div class="modal-body" id="modal-prop-details-body">
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="view-details-page-button">View Details Page</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-app-details">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="app-detail-title">Applications</h4>
                </div>
                <div class="modal-body" id="modal-app-details-body">
                    {{#if isProperties}}
                        {{#each properties}}
                            {{#if Applications}}

                                {{#each Applications}}
                                    <button style="width:100%; margin-bottom:10px;" class="btn btn-default view-apps-btn application-view-button-{{@../index}}" id="application-view-button-{{@../index}}" style="display:none" type="button" data-propId="{{../id}}" data-tenantId="{{TenantId}}" data-app-id="{{id}}">Click to View this Application</button>
                                    <br />
                                {{/each}}
                                
                            {{/if}}
                        {{/each}}
                    {{/if}}
                </div>
                <div class="application-modal-footer">
                </div>
            </div>
        </div>
    </div>
    

</div>